---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "zillizcloud_backup_policy Resource - zillizcloud"
subcategory: ""
description: |-
  Manages a backup policy for a Zilliz Cloud cluster.
  This resource allows you to configure automated backups for a cluster, including backup frequency, retention period, and cross-region copies.
  Example Usage
  
  resource "zillizcloud_backup_policy" "example" {
    cluster_id     = zillizcloud_cluster.example.id
    region_id      = "aws-us-east-1"
    frequency      = "1,2,3,4,5"  # Days of week (1=Monday, 7=Sunday)
    start_time     = "02:00-04:00"
    retention_days = 7
    enabled        = true
  
    cross_region_copies = [
      {
        region_id      = "aws-us-west-2"
        retention_days = 5
      }
    ]
  }
---

# zillizcloud_backup_policy (Resource)

Manages a backup policy for a Zilliz Cloud cluster.

This resource allows you to configure automated backups for a cluster, including backup frequency, retention period, and cross-region copies.

## Example Usage

```hcl
resource "zillizcloud_backup_policy" "example" {
  cluster_id     = zillizcloud_cluster.example.id
  region_id      = "aws-us-east-1"
  frequency      = "1,2,3,4,5"  # Days of week (1=Monday, 7=Sunday)
  start_time     = "02:00-04:00"
  retention_days = 7
  enabled        = true

  cross_region_copies = [
    {
      region_id      = "aws-us-west-2"
      retention_days = 5
    }
  ]
}
```

## Example Usage

```terraform
terraform {
  required_providers {
    zillizcloud = {
      source = "zilliztech/zillizcloud"
    }
  }
}

provider "zillizcloud" {
}


# Basic backup policy - backup on weekdays
resource "zillizcloud_backup_policy" "basic" {
  cluster_id     = "in01-your-cluster-id"
  region_id      = "aws-us-east-2"
  frequency      = "1,2,3,4,5" # Monday through Friday
  start_time     = "02:00-04:00"
  retention_days = 7
  enabled        = true
}

# Advanced backup policy with cross-region copies
resource "zillizcloud_backup_policy" "with_cross_region" {
  cluster_id     = "in01-your-cluster-id"
  region_id      = "aws-us-east-2"
  frequency      = "1,3,5,7" # Monday, Wednesday, Friday, Sunday
  start_time     = "03:00-05:00"
  retention_days = 14
  enabled        = true
  cross_region_copies = [
    {
      region_id      = "aws-us-west-2"
      retention_days = 7
    },
    {
      region_id      = "aws-eu-west-1"
      retention_days = 5
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cluster_id` (String) The ID of the cluster to configure the backup policy for.

You can obtain this value from the output of the `zillizcloud_cluster` resource.
- `frequency` (String) The backup frequency specified as days of the week.

Use a comma-separated list of numbers where 1=Monday through 7=Sunday.

**Examples:**
- `"1,2,3,4,5"` - Backup on weekdays
- `"1,3,5"` - Backup on Monday, Wednesday, Friday
- `"7"` - Backup on Sunday only
- `region_id` (String) The region ID where the cluster is located.

Example: `aws-us-east-1`, `gcp-us-west1`
- `retention_days` (Number) The number of days to retain backups.

**Valid range:** 1-365 days
- `start_time` (String) The time window during which backups can start.

**Format:** `HH:MM-HH:MM` (24-hour format, UTC)

**Example:** `"02:00-04:00"` - Backups can start between 2:00 AM and 4:00 AM UTC

### Optional

- `cross_region_copies` (Attributes List) Configuration for cross-region backup copies.

This allows you to replicate backups to other regions for disaster recovery purposes. (see [below for nested schema](#nestedatt--cross_region_copies))
- `enabled` (Boolean) Whether the backup policy is enabled.

Defaults to `true`.

### Read-Only

- `id` (String) The unique identifier for the backup policy resource.

**Format:** `/clusters/{cluster_id}/backups/policy`

<a id="nestedatt--cross_region_copies"></a>
### Nested Schema for `cross_region_copies`

Required:

- `region_id` (String) The target region ID for the cross-region backup copy.

Example: `aws-us-west-2`
- `retention_days` (Number) The number of days to retain cross-region backup copies.

**Valid range:** 1-365 days
